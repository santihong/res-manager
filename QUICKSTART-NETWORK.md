# 🚀 快速开始 - Network监听模式

## 📦 安装插件

### 步骤1：重新加载插件

如果你已经安装了旧版本：

1. 打开 Chrome 浏览器
2. 在地址栏输入 `chrome://extensions/` 并回车
3. 找到"图片资源下载器"
4. 点击"重新加载"按钮（🔄图标）

### 步骤2：验证安装

1. 点击浏览器工具栏的插件图标
2. 查看是否有三个标签页：
   - ✅ 当前页面
   - ✅ 指定URL
   - ✅ Network监听（新增）

## 🎯 使用Network监听模式

### 场景1：下载社交媒体图片

**示例：下载Unsplash图片**

1. **打开网站**
   ```
   访问 https://unsplash.com/
   ```

2. **启动监听**
   - 点击插件图标
   - 切换到"Network监听"标签
   - 点击"🎯 开始监听"

3. **浏览页面**
   - 滚动页面加载更多图片
   - 观察插件中的捕获列表实时更新

4. **查看捕获**
   - 每个图片显示：
     - 📷 缩略图
     - 📏 尺寸（如：1920×1080）
     - 📄 文件名
     - 🏷️ 格式
     - 📦 大小

5. **下载图片**
   - 点击"下载所有捕获的图片"
   - 图片保存到：`Downloads/images/20240213_143025/`

6. **停止监听**
   - 点击"⏸️ 停止监听"

### 场景2：测试页面验证

**使用内置测试页面**

1. **打开测试页面**
   ```
   在浏览器中打开：test-network.html
   ```

2. **启动监听**
   - 打开插件
   - 切换到"Network监听"
   - 点击"开始监听"

3. **测试功能**
   - 点击"加载动态图片"
   - 点击"滚动到底部"
   - 点击"加载不同尺寸"
   - 点击"加载不同格式"

4. **验证结果**
   - 检查所有图片是否被捕获
   - 检查尺寸是否正确显示
   - 检查下载功能是否正常

## 📊 三种模式对比

### 何时使用哪种模式？

| 场景 | 推荐模式 | 原因 |
|------|---------|------|
| 快速下载页面图片 | 当前页面 | 速度快，简单直接 |
| 下载其他网站图片 | 指定URL | 自动打开页面 |
| 社交媒体图片 | Network监听 | 捕获动态加载 |
| 无限滚动页面 | Network监听 | 实时捕获 |
| 懒加载图片 | Network监听 | 自动捕获 |
| 图片画廊 | Network监听 | 全面捕获 |

### 模式切换

```
当前页面模式
    ↓ 切换标签
指定URL模式
    ↓ 切换标签
Network监听模式 ← 新功能
```

## 🎨 界面说明

### Network监听标签页

```
┌─────────────────────────────────────┐
│ Network监听模式                      │
│ 实时捕获当前页面的所有图片网络请求    │
│                                     │
│ [🎯 开始监听]  [🗑️ 清空列表]        │
│                                     │
│ 捕获的图片 (5)                       │
│ ┌─────────────────────────────────┐ │
│ │ [📷] photo1.jpg                 │ │
│ │      1920×1080 · JPG · 2.5 MB  │ │
│ ├─────────────────────────────────┤ │
│ │ [📷] photo2.jpg                 │ │
│ │      1280×720 · JPG · 1.8 MB   │ │
│ └─────────────────────────────────┘ │
│                                     │
│ [下载所有捕获的图片]                 │
└─────────────────────────────────────┘
```

## 🔍 常见问题

### Q1: 图片尺寸显示"加载中..."？

**A:** 图片尺寸需要异步加载，请等待3-5秒会自动更新。

### Q2: 文件大小显示"未知"？

**A:** 部分服务器不返回 Content-Length 响应头，这是正常现象。

### Q3: 为什么有些图片没有被捕获？

**A:** 请确保：
- ✅ 已点击"开始监听"
- ✅ 在正确的标签页
- ✅ 图片是通过网络请求加载的

### Q4: 可以同时监听多个标签页吗？

**A:** 不可以，每次只能监听一个标签页。

### Q5: 监听会影响浏览速度吗？

**A:** 影响极小（<5%），但建议不使用时停止监听。

## 📐 图片尺寸说明

### 显示格式

```
宽×高
例如：1920×1080
```

### 尺寸来源

- 通过 `Image.naturalWidth` 和 `Image.naturalHeight` 获取
- 显示的是图片的实际像素尺寸
- 不是显示尺寸，而是原始尺寸

### 示例

```
图片URL: https://example.com/photo.jpg
显示尺寸: 200×150 (网页中显示的大小)
实际尺寸: 1920×1080 (插件显示的尺寸) ✅
```

## 💡 使用技巧

### 技巧1：批量下载社交媒体图片

```
1. 打开Instagram/Twitter
2. 开始监听
3. 滚动页面加载更多
4. 等待所有图片加载完成
5. 一键下载所有图片
```

### 技巧2：下载高清原图

```
1. 开始监听
2. 点击图片查看大图
3. 插件会捕获高清原图
4. 下载时获得高清版本
```

### 技巧3：过滤小图标

```
虽然Network模式会捕获所有图片，
但下载时可以通过文件大小判断：
- 小于50KB：可能是图标
- 大于500KB：通常是高清图片
```

### 技巧4：定期清空列表

```
捕获大量图片后，建议：
1. 下载需要的图片
2. 点击"清空列表"
3. 继续监听新的图片
```

## 🎯 最佳实践

### 1. 监听前准备

- ✅ 确保网络连接稳定
- ✅ 关闭不需要的标签页
- ✅ 清空之前的捕获列表

### 2. 监听中操作

- ✅ 慢慢滚动页面（避免遗漏）
- ✅ 等待图片完全加载
- ✅ 观察捕获数量变化

### 3. 下载后处理

- ✅ 检查下载目录
- ✅ 验证图片完整性
- ✅ 清空捕获列表

## 📚 相关文档

- [README.md](./README.md) - 完整使用说明
- [NETWORK-MODE.md](./NETWORK-MODE.md) - Network模式详细文档
- [TESTING-NETWORK.md](./TESTING-NETWORK.md) - 测试指南
- [UPGRADE-V2.md](./UPGRADE-V2.md) - 升级说明
- [CHANGELOG.md](./CHANGELOG.md) - 更新日志

## 🎊 开始使用

现在你已经了解了Network监听模式的基本使用方法，快去试试吧！

**推荐测试网站：**
- https://unsplash.com/ （高质量图片）
- https://picsum.photos/ （随机图片）
- test-network.html （内置测试页面）

祝你使用愉快！🎉
